<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGDYHg5g2B4zYNceTmDXHk5g2B4zYNgeDgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYNgeC2DXHl5g1x68YNce6WDXHvZg1x72YNce6WDXHrxg1x5eYNgeCwAAAAAAAAAAAAAAAAAAAAAAAAAAYNgeF2DXHp9g1x75YNce/2DXHv9g1x7/YNce/2DXHv9g1x7/YNce+WDXHp9g2B4XAAAAAAAAAAAAAAAAYNgeC2DXHp9g1x7/YNce/2DXHv9g1x7/YNce/2DXHv9g2B7/Ydoe/2DYHv9g1x7/YNcen2DYHgsAAAAAAAAAAGDXHl5g1x74YNce/2DYHv9h2h7/Ydoe/2HaHv9h2R7/XM4e/0qgHf9Vuh3/Ydge/2DXHvlg1x5eAAAAAGDYHg5g1x67Ydge/1a+Hf83bRv/PHsc/0KJHP9Bhxz/OXIb/yxRG/8uVhv/VLgd/2HaHv9g1x7/YNceu2DYHg5g2B4yYNce6GDYHv9czR7/SJkc/z1+HP84cRv/OXMb/0CGHP9OqB3/VLcd/0OMHP9Wvh3/Ydge/2DXHuhg2B4yYNceTmDXHvZh2R7/TaYd/zp2HP9Hlhz/TKMd/0qfHf9DjBz/M2Qb/yI4Gv8oSBr/Vbsd/2HZHv9g1x72YNceTmDXHk5g1x72Ydke/1CtHf8vWhv/JkMa/yQ8Gv8kPhr/KUka/zVoG/9JnBz/V8Ad/0+sHf9byh7/YNge9mDXHk5g2B4yYNce6F7SHv9LoR3/TaUd/1KzHf9TtR3/U7Yd/1O1Hf9OqR3/P4Ic/ydFGv8dKhr/Tqkd/2HaHuhg2B4yYNgeDmHYHrtbyh7/KUoa/xojGf8dKhr/HzAa/x8wGv8cKhr/GiQZ/x4uGv8uVxv/Sp4d/17SHv9g2B67YNgeDgAAAABg2B5eYNce+FnEHv9Nph3/RI8c/0CEHP9AhRz/RZEc/02nHf9XwR3/X9Ue/2HaHv9g1x75YNceXgAAAAAAAAAAYNgeC2DXHp9g2B7/Ydoe/2HaHv9h2h7/Ydoe/2HaHv9h2h7/Ydge/2DXHv9g1x7/YNcen2DYHgsAAAAAAAAAAAAAAABg2B4XYNcen2DXHvlg1x7/YNce/2DXHv9g1x7/YNce/2DXHv9g1x75YNcen2DYHhcAAAAAAAAAAAAAAAAAAAAAAAAAAGDYHgtg1x5dYNcevGDXHulg1x72YNce9mDXHulg1x68YNceXmDYHgsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGDYHg5g2B4zYNceTmDXHk5g2B4zYNgeDgAAAAAAAAAAAAAAAAAAAAAAAAAA//8AAPgfAADgBwAAwAMAAMADAACAAQAAgAEAAIABAACAAQAAgAEAAIABAADAAwAAwAMAAOAHAAD4HwAA//8AAA==" rel="icon" type="image/x-icon" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <style>
    input {
      border: 1px solid black;
      margin: auto;
      display: block;
    }

    h1 {
      text-align: center;
      border: 10px solid rgb(48, 226, 31);
      background: rgb(48, 226, 31, 0.6);
    }

    h4 {
      text-align: center;
    }

    h5 {
      text-align: center;
      color: rgb(245, 10, 10);
      
    }

    p {
      text-align: center;
    }

    .container {
      padding-top: 20px;
      display: flex;
      justify-content: center;
    }
  </style>
  <title>Spotify Chorus Finder</title>
</head>

<body>
  <h1>Spotify Chorus Finder</h1>
  <h4>Paste the Spotify song link from Share > Copy song link</h4>
  <p>e.g. https://open.spotify.com/track/49rpdsNYJirTTf6p6mMvag?si=b5c163fd61684a0a</p>
  <input type="url" id="song" size="73">
  <div class="container">
    <button id="submit" type="button" class="btn btn-outline-dark" onclick="getLink()">Get chorus</button>
  </div>
  <p></p>
  <h5 id="error"><strong></strong></h5>

  <script>
    function getLink() {
      let songLink = document.getElementById("song").value;
      songID = (songLink.split("?si")[0].split("https://open.spotify.com/track/")[1]);
      let IDLength = (songID ?? '').length;
      if (songID != "undefined" && IDLength == 22) {
        redirect = (document.URL + songID);
        //alert(redirect);
        document.location.href = redirect;
      }
      else {
        //alert("Undefined");
        document.getElementById("song").value = "";
        document.getElementById("error").innerText = "Error - invalid link";
      }
    } 
  </script>
</body>

</html>
